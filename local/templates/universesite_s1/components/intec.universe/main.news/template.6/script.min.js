!function(){"use strict";if(window.MainNewsNavigation)return!1;var t=template.getLibrary("_");window.MainNewsNavigation=function(){this.active=!1,this.component={path:null,template:null,parameters:{}},this.navigation={id:null,current:1,count:1},this.container={root:null,items:null,button:null}},MainNewsNavigation.prototype={init:function(t){return this.setParameters(t),!!this.checkParameters()&&(!!this.setContainers()&&(this.configure(),void this.bindAction()))},setParameters:function(i){return!t.isNil(i)&&(!t.isNil(i.component)&&(!t.isNil(i.navigation)&&(!t.isNil(i.container)&&(t.isNil(i.component.path)||(this.component.path=i.component.path),t.isNil(i.component.template)||(this.component.template=i.component.template),t.isNil(i.component.parameters)||(this.component.parameters=i.component.parameters),t.isNil(i.navigation.id)||(this.navigation.id=i.navigation.id),t.isNil(i.navigation.current)||(this.navigation.current=i.navigation.current),t.isNil(i.navigation.count)||(this.navigation.count=i.navigation.count),t.isNil(i.container.root)||(this.container.root=i.container.root),t.isNil(i.container.items)||(this.container.items=i.container.items),void(t.isNil(i.container.button)||(this.container.button=i.container.button))))))},checkParameters:function(){for(var i in this.component)if(t.isNil(this.component[i]))return!1;for(var i in this.container)if(t.isNil(this.container[i]))return!1;if(!t.isNil(this.navigation.id))return this.navigation.current<this.navigation.count},setContainers:function(){return this.container.root=document.querySelector(this.container.root),null!==this.container.root&&(this.container.items=this.container.root.querySelector(this.container.items),null!==this.container.items&&(this.container.button=this.container.root.querySelector(this.container.button),null!==this.container.button))},isActive:function(){return this.active=this.navigation.current<this.navigation.count,this.active},buttonSetState:function(t){this.container.button.setAttribute("data-state",t)},buttonIsActive:function(){return"active"===this.container.button.getAttribute("data-state")},itemsSetState:function(t){this.container.items.setAttribute("data-state",t)},configure:function(){this.isActive()?this.buttonSetState("active"):this.buttonSetState("disabled"),this.itemsSetState("none")},bindAction:function(){this.container.button.addEventListener("click",BX.delegate(function(){this.actionClick()},this))},setUrl:function(){var t;return t=this.navigation.current+1,this.component.path+"?"+this.navigation.id+"=page-"+t},actionClick:function(){if(!this.active||!this.buttonIsActive())return!1;this.buttonSetState("processing"),this.itemsSetState("processing"),BX.ajax({url:this.setUrl(),method:"POST",dataType:"json",timeout:60,cache:!0,data:{action:"navigation",template:this.component.template,parameters:this.component.parameters},onsuccess:BX.delegate(function(t){this.actionSuccess(t),this.configure()},this),onfailure:BX.delegate(function(){this.configure()},this)})},actionSuccess:function(t){null!==t.items&&(this.container.items.insertAdjacentHTML("beforeend",t.items),this.navigation.current++)}}}();