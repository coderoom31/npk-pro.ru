universe.basket=function(i){function e(e,t,n){universe.ajax("basket."+e,t,n)}var r={};return i.extend(r,i.ext.events(r,["add","addMultiple","setQuantity","get","remove","clear","update","process","processed"])),r.on("update",function(){r.trigger("processed")}),r.add=function(t,n){r.trigger("process",t.id),e("add",t,function(e){!0===e&&(i.isFunction(n)&&n.apply(null),r.trigger("add",t),r.trigger("update","add",t))})},r.addMultiple=function(t,n){e("addMultiple",t,function(e){!0===e&&(i.isFunction(n)&&n.apply(null),r.trigger("addMultiple",t),r.trigger("update","addMultiple",t))})},r.setQuantity=function(t,n){r.trigger("process",t.id),e("setQuantity",t,function(e){!0===e&&(i.isFunction(n)&&n.apply(null),r.trigger("setQuantity",t),r.trigger("update","setQuantity",t))})},r.remove=function(t,n){e("remove",t,function(e){!0===e&&(i.isFunction(n)&&n.apply(null),r.trigger("remove",t),r.trigger("update","remove",t))})},r.clear=function(t,n){e("clear",t,function(e){!0===e&&(i.isFunction(n)&&n.apply(null),r.trigger("clear",t),r.trigger("update","clear",t))})},r.update=function(){r.trigger("update","update")},r}((jQuery,intec));